[
  {
    "role": "system",
    "content": "You are an AI data extraction specialist for the GenericExtraction industry.\n\nTASK / NHIỆM VỤ:\nExtract and automatically categorize data into appropriate categories: products\n\nEXTRACTION + CATEGORIZATION INSTRUCTIONS / HƯỚNG DẪN EXTRACT + PHÂN LOẠI:\n1. Extract ALL text content as raw_content\n2. Analyze and categorize data intelligently:\n   - PRODUCTS: Physical items, menu items, room types, loan products, courses, etc.\n   - SERVICES: Services offered, amenities, support services, consulting, etc.\n3. Some items may appear in both categories (e.g., \"Room + Breakfast Package\")\n4. Use industry context to make smart categorization decisions\n5. Preserve all important details (prices, descriptions, availability, etc.)\n\nCRITICAL DATA STRUCTURE REQUIREMENTS / YÊU CẦU CẤU TRÚC DỮ LIỆU QUAN TRỌNG:\n- Each item in products/services arrays MUST be a complete object, NOT just a string\n- For restaurant products, extract: name, price (convert K notation), category, description\n- For restaurant services, extract: name, service type, pricing, availability\n- Example: \"Vịt chiên Hong Kong 260K\" should become:\n  {\n    \"name\": \"Vịt chiên Hong Kong\",\n    \"price\": 260000,\n    \"currency\": \"VND\",\n    \"category\": \"main_course\",\n    \"description\": \"Traditional Hong Kong style roasted duck\"\n  }\n\nRESPONSE SCHEMA / SCHEMA PHẢN HỒI:\n```json\n{\n  \"raw_content\": \"Complete text content extracted from the document\",\n  \"structured_data\": {\n    \"products\": [],\n    \"extraction_summary\": {\n      \"total_products\": \"Number of products found (integer)\",\n      \"total_services\": \"Number of services found (integer)\",\n      \"data_quality\": \"Assessment of data quality: high, medium, or low\",\n      \"categorization_notes\": \"Notes about how items were categorized\",\n      \"industry_context\": \"Industry-specific observations\"\n    }\n  }\n}\n```\n\nCRITICAL REQUIREMENTS / YÊU CẦU QUAN TRỌNG:\n- Return EXACTLY the schema structure above\n- Each product/service MUST be a detailed object with all available fields\n- Use Vietnamese for names/descriptions unless English specified\n- Include both raw_content AND structured_data\n- Categorize intelligently based on industry context\n- Convert price notation (450K = 450000, 25K = 25000)\n- Provide extraction_summary with categorization insights\n- Use proper data types (numbers for prices, arrays for lists)\n- For missing data, use empty arrays [] not null\n\nTEXT PROCESSING INSTRUCTIONS:\n- Analyze the provided text content carefully\n- Extract all relevant data following the JSON schema\n- Process structured text formats (JSON, CSV, TXT)\n- Pay attention to patterns and formatting in the content\n\nRAW DATA + JSON REQUIREMENT / YÊU CẦU RAW DATA + JSON:\nYou must return BOTH:\n1. raw_content: The original text content as processed\n2. structured_data: JSON formatted according to the schema\n\nReturn format:\n{\n  \"raw_content\": \"The original text content being processed...\",\n  \"structured_data\": {\n    \"items\": [...],\n    \"extraction_summary\": {...}\n  }\n}\n\nCRITICAL JSON FORMATTING INSTRUCTIONS:\n- Return ONLY valid JSON format\n- Include both raw_content and structured_data sections\n- Use proper JSON syntax with double quotes\n- Ensure all numbers are numeric (not strings) \n- For missing values, use null instead of empty strings\n- Array fields should be empty arrays [] if no data found\n- Do not wrap JSON in code blocks or markdown\n- Start response directly with { and end with }\n"
  },
  {
    "role": "user",
    "content": "\nAUTO-CATEGORIZATION EXTRACTION TASK / NHIỆM VỤ EXTRACT TỰ ĐỘNG PHÂN LOẠI:\n\nTARGET CATEGORIES / DANH MỤC MUC TIÊU: products\nINDUSTRY / NGÀNH: fashion\nFILE / TẬP TIN: ivy-fashion-products.csv\nLANGUAGE / NGÔN NGỮ: vi\n\nINTELLIGENT CATEGORIZATION GUIDELINES / HƯỚNG DẪN PHÂN LOẠI THÔNG MINH:\n\nFOR PRODUCTS / CHO PRODUCTS:\n- Physical items that can be purchased/ordered\n- Menu items (food, drinks, dishes)\n- Room types and accommodation\n- Financial products (loans, accounts, cards)\n- Courses and educational programs\n- Physical goods or tangible offerings\n\nFOR SERVICES / CHO SERVICES:\n- Intangible services provided\n- Support and customer service\n- Consulting and advisory services\n- Maintenance and repair services\n- Delivery and transportation\n- Professional services\n\nSMART CATEGORIZATION EXAMPLES / VÍ DỤ PHÂN LOẠI THÔNG MINH:\n- \"Phở Bò + Giao hàng\" → Products: Phở Bò, Services: Giao hàng\n- \"Deluxe Room with Spa Service\" → Products: Deluxe Room, Services: Spa Service\n- \"Personal Loan with Advisory\" → Products: Personal Loan, Services: Advisory\n\nEXTRACTION INSTRUCTIONS / HƯỚNG DẪN EXTRACT:\n1. Read and extract ALL content as raw_content\n2. Identify and categorize items intelligently\n3. Preserve complete information (prices, descriptions, features)\n4. Use industry knowledge for accurate categorization\n5. Provide insights in extraction_summary\n\nPlease analyze the document and extract all relevant information with intelligent auto-categorization.\nVui lòng phân tích tài liệu và extract tất cả thông tin liên quan với tự động phân loại thông minh.\n\nDOCUMENT CONTENT TO PROCESS:\nCSV FILE: ivy-fashion-products.csv\nTotal Rows: 25\nColumns: product_id, product_name, category, brand, price, size, color, material, stock_quantity, description\n\nHEADER:\nproduct_id | product_name | category | brand | price | size | color | material | stock_quantity | description\n\nDATA ROWS:\nRow 1: FW001 | Áo blazer nữ cao cấp | Áo khoác | IVY Fashion | 1580000 | S|M|L|XL | Đen|Xám|Be | Vải wool blend | 25 | Áo blazer nữ phong cách công sở, thiết kế thanh lịch\nRow 2: FW002 | Váy midi hoa nhí | Váy | IVY Fashion | 890000 | S|M|L | Hồng|Xanh|Trắng | Cotton | 40 | Váy midi họa tiết hoa nhí, phù hợp dạo phố\nRow 3: FW003 | Quần jean skinny | Quần | Denim Style | 650000 | 26|27|28|29|30 | Xanh đậm|Xanh nhạt|Đen | Denim cotton | 60 | Quần jean skinny ôm dáng, co giãn tốt\nRow 4: FW004 | Áo sơ mi lụa | Áo | Silk Garden | 1200000 | S|M|L | Trắng|Kem|Hồng phấn | Lụa tơ tằm | 30 | Áo sơ mi lụa cao cấp, mềm mại và thoáng mát\nRow 5: FW005 | Chân váy chữ A | Váy | Classic Line | 420000 | S|M|L|XL | Đen|Xám|Navy | Polyester | 45 | Chân váy chữ A cơ bản, dễ phối đồ\nRow 6: FW006 | Áo len cổ lọ | Áo len | Warm Winter | 580000 | S|M|L | Đỏ|Xanh|Nâu | Len merino | 35 | Áo len cổ lọ ấm áp, chất liệu cao cấp\nRow 7: FW007 | Đầm maxi hoa | Đầm | Summer Breeze | 750000 | S|M|L | Xanh lá|Vàng|Tím | Chiffon | 28 | Đầm maxi họa tiết hoa, phù hợp dự tiệc\nRow 8: FW008 | Quần tây nữ | Quần | Office Lady | 680000 | S|M|L|XL | Đen|Xám|Navy | Wool blend | 50 | Quần tây nữ công sở, form dáng chuẩn\nRow 9: FW009 | Áo khoác cardigan | Áo khoác | Cozy Time | 480000 | S|M|L | Be|Xám|Hồng | Acrylic | 38 | Cardigan nhẹ nhàng, phù hợp mùa thu\nRow 10: FW010 | Váy ngắn da | Váy | Rock Style | 950000 | S|M|L | Đen|Nâu | Da thật | 22 | Váy ngắn da thật, phong cách cá tính\n\nRAW DATA + JSON REQUIREMENT / YÊU CẦU RAW DATA + JSON:\nFor DeepSeek text processing, you must return BOTH:\n1. raw_content: The original text content as processed\n2. structured_data: JSON formatted according to the schema\n\nIMPORTANT INSTRUCTIONS / HƯỚNG DẪN QUAN TRỌNG:\n1. Analyze the above text content carefully\n2. Extract ALL text as raw_content (preserve original content)\n3. Process and structure the data according to the JSON schema\n4. Return BOTH raw content and structured data in the format specified\n5. Return ONLY the JSON response, no additional text, explanations, or formatting\n\nExpected response format:\n{\n  \"raw_content\": \"Complete original content of the file...\",\n  \"structured_data\": {\n    \"products\": [...extracted products...],\n    \"extraction_summary\": {\n      \"total_items\": number,\n      \"data_quality\": \"high|medium|low\",\n      \"extraction_notes\": \"Any relevant notes...\"\n    }\n  }\n}\n\nIMPORTANT: Return ONLY the JSON response with both raw_content and structured_data sections, no additional text, explanations, or formatting."
  }
]